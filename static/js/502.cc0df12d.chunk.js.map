{"version":3,"file":"static/js/502.cc0df12d.chunk.js","mappings":"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","sources":["modules/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/modules/MoviesSearchForm/movies-search-form.module.scss?b736","modules/MoviesSearchForm/MoviesSearchForm.jsx","pages/MoviesSearchPage/MoviesSearchPage.jsx","shared/api/api.js","webpack://react-homework-template/./src/shared/components/Button/button.module.scss?9580","shared/components/Button/Button.jsx"],"sourcesContent":["import {Link, useLocation} from 'react-router-dom';\nimport {PropTypes} from 'prop-types';\n\nconst MoviesList = ({items}) => {\n    const location = useLocation();\n    const elements = items.map(({id, title}) => {\n        return (<li key={id}>\n                    <Link state={{from: location}} to={`/goit-react-hw-05-movies/movies/${id}`}>{title}</Link>\n                </li>);\n    });\n\n    return (\n        <ul>\n            {elements}\n        </ul>\n    )\n}\n\nexport default MoviesList;\n\nMoviesList.defaultProps = {\n    items: []\n}\n\nMoviesList.propTypes = {\n    items: PropTypes.array.isRequired\n}","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"movies-search-form_input__T0UhV\"};","import {useState} from 'react';\n\nimport Button from '../../shared/components/Button/Button';\n\nimport styles from './movies-search-form.module.scss';\n\nconst MoviesSearchForm = ({onSubmit}) => {\n    const [state, setState] = useState(\"\");\n \n    const handleChange = ({target}) => {\n        setState(target.value);\n    }\n\n    const handleSubmit = event => {\n        event.preventDefault();\n        onSubmit(state);\n        console.log(\"Set \", state);\n        setState(\"\");\n    }\n\n    return(\n        <form onSubmit={handleSubmit}>\n            <input \n                name=\"query\"\n                value={state}\n                onChange={handleChange}\n                placeholder=\"Movies search\"\n                required\n                className={styles.input}\n            />\n            <Button type=\"submit\">Search</Button>\n        </form>\n    )\n}\n\nexport default MoviesSearchForm;","import {useState, useEffect} from 'react';\nimport {useSearchParams} from 'react-router-dom';\n\nimport MoviesSearchForm from '../../modules/MoviesSearchForm/MoviesSearchForm';\nimport MoviesList from '../../modules/MoviesList/MoviesList';\nimport Loading from '../../shared/components/Loading/Loading';\nimport Button from '../../shared/components/Button/Button';\n\nimport {searchMovies} from '../../shared/api/api';\n// import styles from './movies-search-page.scss';\n\nconst MoviesSearchPage = () => {\n    const [state, setState] = useState({\n        items: [],\n        page: 1,\n        loading: false,\n        error: null,\n    });\n    const [searchParams, setSearchParams] = useSearchParams();\n    const search = searchParams.get(\"search\");\n\n    useEffect(() => {\n        const fetchMovies = async() => {\n            try {\n                setState(prevState =>({\n                    ...prevState,\n                    loading: true,\n                }));\n                const data = await searchMovies(search, state.page);\n                setState(prevState =>({\n                    ...prevState,\n                    items: [...prevState.items, ...data],\n                }));\n            } catch (error) {\n                setState(prevState =>({\n                    ...prevState,\n                    error,\n                }));\n            } finally {\n                setState(prevState =>({\n                    ...prevState,\n                    loading: false,\n                }));\n            }\n        }\n        if(search) {\n            fetchMovies();\n        }\n            \n        }, [search, state.page, setState])\n\n    const onSubmit = (search) => {\n        setSearchParams({search});\n        setState(prevState =>({\n            ...prevState,\n            items: [],\n            page: 1,\n            error: null,\n        }));\n    }\n\n    const handleShowMore = () => {\n        setState(prevState =>({\n            ...prevState,\n            page: prevState.page + 1,\n        }));\n    }\n\n    const {items, loading} = state;\n    const isItems = items.length > 0;\n    return(\n        <div className=\"container\">\n            <h1 className=\"title\">Movies Search Page</h1>\n            <MoviesSearchForm onSubmit={onSubmit} />\n            {isItems && <MoviesList items={items} />}\n            {loading && <Loading />}\n            {isItems && <Button onClick={handleShowMore}>Show more</Button>}\n        </div>\n    )   \n}\n\nexport default MoviesSearchPage;","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3\",\n    params: {\n        api_key: \"280dfc47f55a5a95f0363880d2199c9a\",\n    }\n});\n\nexport const getTrendingMovies = async(period = \"day\", page = 1) => {\n    const {data} = await instance.get(`/trending/movie/${period}`, {\n        params: {\n            page,\n        }\n    })\n\n    return data.results;\n}\n\nexport const getMovieById = async(movie_id) => {\n    const {data} = await instance.get(`/movie/${movie_id}`, {})\n    return data;\n}\n\nexport const getReviews = async(movie_id) => {\n    const {data} = await instance.get(`/movie/${movie_id}/reviews`, {})\n    return data.results;\n}\n\nexport const getCast = async(movie_id) => {\n    const {data} = await instance.get(`/movie/${movie_id}/credits`, {})\n    return data.cast;\n}\n\nexport const searchMovies = async(query, page = 1) => {\n    const {data} = await instance.get(`/search/movie`, {\n        params: {\n            query,\n            page,\n        }\n    })\n\n    return data.results;\n}","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button_button__vTaVn\"};","import styles from './button.module.scss';\n\nconst Button = ({onClick = null, type = \"button\", children}) => {\n    return (\n        <>\n            {Boolean(onClick) && <button className={styles.button} onClick={onClick} type={type}>{children}</button>}\n            {!Boolean(onClick) && <button className={styles.button} type={type}>{children}</button>}\n        </>\n    )\n}\n\nexport default Button;"],"names":["MoviesList","items","location","useLocation","elements","map","id","title","state","from","to","defaultProps","onSubmit","useState","setState","event","preventDefault","console","log","name","value","onChange","target","placeholder","required","className","styles","Button","type","page","loading","error","useSearchParams","searchParams","setSearchParams","search","get","useEffect","fetchMovies","prevState","searchMovies","data","isItems","length","Loading","onClick","instance","axios","baseURL","params","api_key","getTrendingMovies","period","results","getMovieById","movie_id","getReviews","getCast","cast","query","children","Boolean"],"sourceRoot":""}
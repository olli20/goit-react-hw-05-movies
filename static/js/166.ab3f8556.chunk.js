/*! For license information please see 166.ab3f8556.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[166],{3166:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var n=r(8683),i=r(5861),a=r(9439),o=r(7757),s=r.n(o),c=r(2791),u=r(1087),l=r(7689);function d(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function h(e){return"#"+e.map(d).join("")}function f(e){return e?(t=e,Array.isArray(t[0])?e:[e]):[];var t}function v(e,t,r){for(var n=0;n<r.length;n++)if(g(e,t,r[n]))return!0;return!1}function g(e,t,r){switch(r.length){case 3:if(function(e,t,r){if(255!==e[t+3])return!0;if(e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2])return!0;return!1}(e,t,r))return!0;break;case 4:if(function(e,t,r){if(e[t+3]&&r[3])return e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2]&&e[t+3]===r[3];return e[t+3]===r[3]}(e,t,r))return!0;break;case 5:if(function(e,t,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],c=e[t+3],u=p(c,o,s);if(!o)return u;if(!c&&u)return!0;if(p(e[t],n,s)&&p(e[t+1],i,s)&&p(e[t+2],a,s)&&u)return!0;return!1}(e,t,r))return!0;break;default:return!1}}function p(e,t,r){return e>=t-r&&e<=t+r}function m(e,t,r){for(var n={},i=r.ignoredColor,a=r.step,o=[0,0,0,0,0],s=0;s<t;s+=a){var c=e[s],u=e[s+1],l=e[s+2],d=e[s+3];if(!i||!v(e,s,i)){var h=Math.round(c/24)+","+Math.round(u/24)+","+Math.round(l/24);n[h]?n[h]=[n[h][0]+c*d,n[h][1]+u*d,n[h][2]+l*d,n[h][3]+d,n[h][4]+1]:n[h]=[c*d,u*d,l*d,d,1],o[4]<n[h][4]&&(o=n[h])}}var f=o[0],g=o[1],p=o[2],m=o[3],_=o[4];return m?[Math.round(f/m),Math.round(g/m),Math.round(p/m),Math.round(m/_)]:r.defaultColor}function _(e,t,r){for(var n=0,i=0,a=0,o=0,s=0,c=r.ignoredColor,u=r.step,l=0;l<t;l+=u){var d=e[l+3],h=e[l]*d,f=e[l+1]*d,g=e[l+2]*d;c&&v(e,l,c)||(n+=h,i+=f,a+=g,o+=d,s++)}return o?[Math.round(n/o),Math.round(i/o),Math.round(a/o),Math.round(o/s)]:r.defaultColor}function w(e,t,r){for(var n=0,i=0,a=0,o=0,s=0,c=r.ignoredColor,u=r.step,l=0;l<t;l+=u){var d=e[l],h=e[l+1],f=e[l+2],g=e[l+3];c&&v(e,l,c)||(n+=d*d*g,i+=h*h*g,a+=f*f*g,o+=g,s++)}return o?[Math.round(Math.sqrt(n/o)),Math.round(Math.sqrt(i/o)),Math.round(Math.sqrt(a/o)),Math.round(o/s)]:r.defaultColor}function x(e){return b(e,"defaultColor",[0,0,0,0])}function b(e,t,r){return void 0===e[t]?r:e[t]}function j(e){if(C(e)){var t=e.naturalWidth,r=e.naturalHeight;return e.naturalWidth||-1===e.src.search(/\.svg(\?|$)/i)||(t=r=100),{width:t,height:r}}return function(e){return"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement}(e)?{width:e.videoWidth,height:e.videoHeight}:{width:e.width,height:e.height}}function y(e){return function(e){return"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement}(e)?"canvas":function(e){return Z&&e instanceof OffscreenCanvas}(e)?"offscreencanvas":function(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap}(e)?"imagebitmap":e.src}function C(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement}var Z="undefined"!==typeof OffscreenCanvas;var k="undefined"===typeof window;function M(e){return Error("FastAverageColor: "+e)}function E(e,t){t||console.error(e)}var L=function(){function e(){this.canvas=null,this.ctx=null}return e.prototype.getColorAsync=function(e,t){if(!e)return Promise.reject(M("call .getColorAsync() without resource."));if("string"===typeof e){if("undefined"===typeof Image)return Promise.reject(M("resource as string is not supported in this environment"));var r=new Image;return r.crossOrigin=t&&t.crossOrigin||"",r.src=e,this.bindImageEvents(r,t)}if(C(e)&&!e.complete)return this.bindImageEvents(e,t);var n=this.getColor(e,t);return n.error?Promise.reject(n.error):Promise.resolve(n)},e.prototype.getColor=function(e,t){var r=x(t=t||{});if(!e)return E(a=M("call .getColor(null) without resource"),t.silent),this.prepareResult(r,a);var n=function(e,t){var r,n=b(t,"left",0),i=b(t,"top",0),a=b(t,"width",e.width),o=b(t,"height",e.height),s=a,c=o;return"precision"===t.mode||(a>o?(r=a/o,s=100,c=Math.round(s/r)):(r=o/a,c=100,s=Math.round(c/r)),(s>a||c>o||s<10||c<10)&&(s=a,c=o)),{srcLeft:n,srcTop:i,srcWidth:a,srcHeight:o,destWidth:s,destHeight:c}}(j(e),t);if(!n.srcWidth||!n.srcHeight||!n.destWidth||!n.destHeight)return E(a=M('incorrect sizes for resource "'.concat(y(e),'"')),t.silent),this.prepareResult(r,a);if(!this.canvas&&(this.canvas=k?Z?new OffscreenCanvas(1,1):null:document.createElement("canvas"),!this.canvas))return E(a=M("OffscreenCanvas is not supported in this browser"),t.silent),this.prepareResult(r,a);if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx)return E(a=M("Canvas Context 2D is not supported in this browser"),t.silent),this.prepareResult(r);this.ctx.imageSmoothingEnabled=!1}this.canvas.width=n.destWidth,this.canvas.height=n.destHeight;try{this.ctx.clearRect(0,0,n.destWidth,n.destHeight),this.ctx.drawImage(e,n.srcLeft,n.srcTop,n.srcWidth,n.srcHeight,0,0,n.destWidth,n.destHeight);var i=this.ctx.getImageData(0,0,n.destWidth,n.destHeight).data;return this.prepareResult(this.getColorFromArray4(i,t))}catch(o){var a;return E(a=M("security error (CORS) for resource ".concat(y(e),".\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image")),t.silent),!t.silent&&console.error(o),this.prepareResult(r,a)}},e.prototype.getColorFromArray4=function(e,t){t=t||{};var r=e.length,n=x(t);if(r<4)return n;var i,a=r-r%4,o=4*(t.step||1);switch(t.algorithm||"sqrt"){case"simple":i=_;break;case"sqrt":i=w;break;case"dominant":i=m;break;default:throw M("".concat(t.algorithm," is unknown algorithm"))}return i(e,a,{defaultColor:n,ignoredColor:f(t.ignoredColor),step:o})},e.prototype.prepareResult=function(e,t){var r,n=e.slice(0,3),i=[e[0],e[1],e[2],e[3]/255],a=(299*(r=e)[0]+587*r[1]+114*r[2])/1e3<128;return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+n.join(",")+")",rgba:"rgba("+i.join(",")+")",hex:h(n),hexa:h(e),isDark:a,isLight:!a,error:t}},e.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},e.prototype.bindImageEvents=function(e,t){var r=this;return new Promise((function(n,i){var a=function(){c();var a=r.getColor(e,t);a.error?i(a.error):n(a)},o=function(){c(),i(M('Error loading image "'.concat(e.src,'".')))},s=function(){c(),i(M('Image "'.concat(e.src,'" loading aborted')))},c=function(){e.removeEventListener("load",a),e.removeEventListener("error",o),e.removeEventListener("abort",s)};e.addEventListener("load",a),e.addEventListener("error",o),e.addEventListener("abort",s)}))},e}(),H=r(5697),N=r(7698),I="movie-details_fullweightContainer__VvGIM",R="movie-details_movieCard__qTPsk",W="movie-details_poster__ksvE2",O="movie-details_image__uzZ+W",P="movie-details_meta__lk0fH",T="movie-details_title__PKXVj",S="movie-details_year__MQDg6",A="movie-details_tagline__x8G5s",q="movie-details_subtitle__fZj5v",D="movie-details_genreList__P4Lwv",B="movie-details_genre__yKxQj",z=r(184),F=function(e){var t=e.item,r=(0,c.useState)("rgba(120, 145, 165, 1)"),n=(0,a.Z)(r,2),i=n[0],o=n[1];(0,c.useEffect)((function(){var e=t.poster_path;(new L).getColorAsync("https://image.tmdb.org/t/p/w300".concat(e)).then((function(e){o(e.rgba)})).catch((function(e){console.log(e)}))}),[t,o]);var s=t.title,u=t.poster_path,l=t.backdrop_path,d=t.tagline,h=t.vote_average,f=t.overview,v=t.genres,g=void 0===v?[]:v,p=t.release_date,m=g.map((function(e){return(0,z.jsx)("li",{className:B,children:e.name},e.id)})),_=(0,N.Kw)(h),w=p.slice(0,4),x=i.slice(0,i.length-2)+" 0.9)",b=i.slice(0,i.length-2)+" 0.7)",j={backgroundColor:i,backgroundImage:"linear-gradient(to right,\n             ".concat(x,",\n             ").concat(b,"),\n            url(https://image.tmdb.org/t/p/w1280").concat(l,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return(0,z.jsx)("div",{className:I,style:j,children:(0,z.jsx)(H.Z,{children:(0,z.jsxs)("div",{className:R,children:[(0,z.jsx)("div",{className:W,children:(0,z.jsx)("img",{className:O,src:"https://image.tmdb.org/t/p/w500".concat(u),alt:s})}),(0,z.jsxs)("div",{className:P,children:[(0,z.jsxs)("h1",{className:T,children:[s," ",(0,z.jsxs)("span",{className:S,children:["(",w,")"]})]}),(0,z.jsxs)("p",{children:["User Score: ",_,"%"]}),(null===d||void 0===d?void 0:d.length)>0&&(0,z.jsx)("p",{className:A,children:d}),(0,z.jsx)("h3",{className:q,children:"Overview"}),(0,z.jsx)("p",{children:f}),(0,z.jsx)("h3",{className:q,children:"Genres"}),g&&(0,z.jsx)("ul",{className:D,children:m})]})]})})})},G=r(6744),K=r(748),U="movie-details-page_list__Cvdm2",V="movie-details-page_link__EoIAB",Q="movie-details-page_active__7HkNa",Y=r(232),J=function(){var e,t=(0,c.useState)({item:{},loading:!1,error:null}),r=(0,a.Z)(t,2),o=r[0],d=r[1],h=(0,l.UO)().movieId,f=(0,l.s0)(),v=(null===(e=(0,l.TH)().state)||void 0===e?void 0:e.from)||"/goit-react-hw-05-movies";(0,c.useEffect)((function(){var e=function(){var e=(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!0,error:null})})),e.prev=1,e.next=4,(0,Y.Pg)(h);case 4:t=e.sent,d((function(e){return(0,n.Z)((0,n.Z)({},e),{},{item:t})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d((function(t){return(0,n.Z)((0,n.Z)({},t),{},{error:e.t0})}));case 11:return e.prev=11,d((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!1})})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[h,d]);var g=function(e){return e.isActive?"".concat(V," ").concat(Q):V},p=o.item,m=o.loading,_=o.error,w=p.hasOwnProperty("title");return(0,z.jsxs)("div",{children:[(0,z.jsx)(H.Z,{children:(0,z.jsx)("button",{onClick:function(){return f(v)},children:"Go back"})}),m&&(0,z.jsx)(G.Z,{}),_&&(0,z.jsx)(K.Z,{children:"Some error occured"}),w&&(0,z.jsx)(F,{item:o.item}),w&&(0,z.jsx)(H.Z,{children:(0,z.jsxs)("ul",{className:U,children:[(0,z.jsx)("li",{children:(0,z.jsx)(u.OL,{className:g,state:{from:v},to:"/goit-react-hw-05-movies/movies/".concat(h,"/cast"),children:"Cast"})}),(0,z.jsx)("li",{children:(0,z.jsx)(u.OL,{className:g,state:{from:v},to:"/goit-react-hw-05-movies/movies/".concat(h,"/reviews"),children:"Reviews"})})]})}),(0,z.jsx)(l.j3,{})]})}},232:function(e,t,r){r.d(t,{Df:function(){return s},IQ:function(){return l},Jh:function(){return u},Pg:function(){return c},z1:function(){return d}});var n=r(5861),i=r(7757),a=r.n(i),o=r(1912).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"280dfc47f55a5a95f0363880d2199c9a"}}),s=function(){var e=(0,n.Z)(a().mark((function e(){var t,r,n,i,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"day",r=s.length>1&&void 0!==s[1]?s[1]:1,e.next=4,o.get("/trending/movie/".concat(t),{params:{page:r}});case 4:return n=e.sent,i=n.data,e.abrupt("return",i.results);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("/movie/".concat(t),{});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("/movie/".concat(t,"/reviews"),{});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("/movie/".concat(t,"/credits"),{});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.cast);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n,i,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:1,e.next=3,o.get("/search/movie",{params:{query:t,page:r}});case 3:return n=e.sent,i=n.data,e.abrupt("return",i.results);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},748:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(5697),i="error_wrapper__-2+js",a="error_message__rY-IE",o=r(184),s=function(e){var t=e.children;return(0,o.jsx)(n.Z,{children:(0,o.jsx)("div",{className:i,children:(0,o.jsx)("p",{className:a,children:t})})})}},6744:function(e,t,r){r.d(t,{Z:function(){return n.Z}});var n=r(3032)},7698:function(e,t,r){r.d(t,{Kw:function(){return a},Zm:function(){return s},p6:function(){return o}});var n=r(8977),i=r(4128),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.round(10*e)},o=function(e){if(null!==e&&""!==e&&void 0!==e){var t=e+"T12:00:00";return(0,n.Z)(Date.parse(t),"MMM dd, yyyy")}},s=function(e){var t=i.Z.progress;return e>=70?t="".concat(i.Z.progress," ").concat(i.Z.high):e<70&&e>=50&&(t="".concat(i.Z.progress," ").concat(i.Z.medium)),t}},4128:function(e,t){t.Z={rating:"rating_rating__hlgi+",diagram:"rating_diagram__x-RaL",circleBg:"rating_circleBg__qW11Z",progress:"rating_progress__4Z1eL",medium:"rating_medium__3UupM",high:"rating_high__wws4H",ratingNumber:"rating_ratingNumber__cBuLE",percentSign:"rating_percentSign__oLwcY"}}}]);
//# sourceMappingURL=166.ab3f8556.chunk.js.map
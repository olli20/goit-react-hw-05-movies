{"version":3,"file":"static/js/413.2f3b4777.chunk.js","mappings":"0RACA,EAAuB,mB,SCWvB,EARa,SAAC,GAAgB,IAAfA,EAAc,EAAdA,SACX,OACI,gBAAKC,UAAWC,EAAhB,SACKF,GAGZ,E,mBCTD,GAAgB,KAAO,iCAAiC,KAAO,iCAAiC,KAAO,kCCuEvG,EA5DyB,WACrB,OAA0BG,EAAAA,EAAAA,UAAS,CAC/BC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHX,eAAOC,EAAP,KAAcC,EAAd,KAMOC,GAAWC,EAAAA,EAAAA,MAAXD,SAEPE,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAY,mCAAG,2FACjBJ,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdR,SAAS,EACTC,MAAO,MAHO,IADD,mBAOMQ,EAAAA,EAAAA,IAAWL,GAPjB,OAOPM,EAPO,OAQbP,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdT,MAAM,GAAD,eAAMS,EAAUT,QAAhB,OAA0BW,KAFjB,IARL,gDAabP,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdP,MAAK,MAFS,IAbL,yBAkBbE,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdR,SAAS,GAFK,IAlBL,4EAAH,qDAwBlBO,GACH,GAAE,CAACH,EAASD,IAEb,IAAOJ,EAAyBG,EAAzBH,MAAOC,EAAkBE,EAAlBF,QAASC,EAASC,EAATD,MAEjBU,EAAWZ,EAAMa,KAAI,SAACC,GACxB,IAAOC,EAAuBD,EAAvBC,GAAIC,EAAmBF,EAAnBE,OAAQC,EAAWH,EAAXG,QACnB,OAAQ,eAAIpB,UAAWC,EAAAA,KAAf,UACI,UAAC,EAAD,YACI,eAAGD,UAAWC,EAAAA,KAAd,qBAAoCkB,MACpC,cAAGnB,UAAWC,EAAAA,QAAd,SAA+BmB,QAHNF,EAMxC,IAGL,OACI,UAACG,EAAA,EAAD,WACKjB,IAAW,SAACkB,EAAA,EAAD,IACXjB,IAAS,SAACkB,EAAA,EAAD,iCACTpB,EAAMqB,OAAS,IAAK,eAAIxB,UAAWC,EAAAA,KAAf,SAA6Bc,KAChDX,GAA4B,IAAjBD,EAAMqB,SAAgB,SAACD,EAAA,EAAD,0DAG9C,C,wLCpEKE,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAIAC,EAAiB,mCAAG,6GAAOC,EAAP,+BAAgB,MAAOC,EAAvB,+BAA8B,EAA9B,SACRP,EAASQ,IAAT,0BAAgCF,GAAU,CAC/DH,OAAQ,CACNI,KAAAA,KAH2B,uBACvBlB,EADuB,EACvBA,KAKRoB,QAAQC,IAAIrB,EAAKsB,SANc,kBAOxBtB,EAAKsB,SAPmB,2CAAH,qDAUjBC,EAAY,mCAAG,WAAMC,GAAN,yFACHb,EAASQ,IAAT,iBAAuBK,GAAY,CAAC,GADjC,uBAClBxB,EADkB,EAClBA,KADkB,kBAEnBA,GAFmB,2CAAH,sDAKZD,EAAU,mCAAG,WAAMyB,GAAN,yFACDb,EAASQ,IAAT,iBAAuBK,EAAvB,YAA2C,CAAC,GAD3C,uBAChBxB,EADgB,EAChBA,KADgB,kBAEjBA,EAAKsB,SAFY,2CAAH,sDAKVG,EAAO,mCAAG,WAAMD,GAAN,yFACEb,EAASQ,IAAT,iBAAuBK,EAAvB,YAA2C,CAAC,GAD9C,uBACbxB,EADa,EACbA,KADa,kBAEdA,EAAK0B,MAFS,2CAAH,sDAKPC,EAAY,mCAAG,WAAOC,GAAP,8FAAcV,EAAd,+BAAqB,EAArB,SACHP,EAASQ,IAAT,gBAA8B,CACnDL,OAAQ,CACNc,MAAAA,EACAV,KAAAA,KAJsB,uBAClBlB,EADkB,EAClBA,KADkB,kBAQnBA,GARmB,2CAAH,qD,sDCjCzB,MAA0B,uBAA1B,EAA2D,uB,SCW3D,EARc,SAAC,GAAgB,IAAff,EAAc,EAAdA,SACZ,OACI,gBAAKC,UAAWC,EAAhB,UACI,cAAGD,UAAWC,EAAd,SAA+BF,KAG1C,C","sources":["webpack://react-homework-template/./src/shared/components/Card/card.module.scss?c317","shared/components/Card/Card.jsx","webpack://react-homework-template/./src/pages/MovieReviewsPage/movie-reviews-page.module.scss?a7a8","pages/MovieReviewsPage/MovieReviewsPage.jsx","shared/api/api.js","webpack://react-homework-template/./src/shared/components/Error/error.module.scss?3b72","shared/components/Error/Error.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"card_card__kIQ-t\"};","import PropTypes from 'prop-types';\r\n\r\nimport styles from './card.module.scss';\r\n\r\nconst Card = ({children}) => {\r\n    return (\r\n        <div className={styles.card}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;\r\n\r\nCard.propTypes = {\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.element]).isRequired,\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movie-reviews-page_list__tFn6l\",\"item\":\"movie-reviews-page_item__MWlUL\",\"name\":\"movie-reviews-page_name__X2XXa\"};","import {useState, useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nimport {getReviews} from '../../shared/api/api';\r\n\r\nimport Container from '../../shared/components/Container';\r\nimport Card from '../../shared/components/Card';\r\nimport Loading from '../../shared/components/Loading';\r\nimport Error from '../../shared/components/Error';\r\n\r\nimport styles from './movie-reviews-page.module.scss';\r\n\r\nconst MovieReviewsPage = () => {\r\n    const [state, setState] = useState({\r\n        items: [],\r\n        loading: false,\r\n        error: null,\r\n    });\r\n\r\n    const {movieId} = useParams();\r\n\r\n    useEffect(() => {\r\n        const fetchReviews = async() => {\r\n            setState(prevState => ({\r\n                ...prevState, \r\n                loading: true,\r\n                error: null,\r\n            }));\r\n            try {\r\n                const data = await getReviews(movieId);\r\n                setState(prevState => ({\r\n                    ...prevState,\r\n                    items: [...prevState.items, ...data]\r\n                }));\r\n            } catch (error) {\r\n                setState(prevState => ({\r\n                    ...prevState,\r\n                    error,\r\n                }));\r\n            } finally {\r\n                setState(prevState => ({\r\n                    ...prevState, \r\n                    loading: false,\r\n                }));\r\n            }\r\n        }\r\n        fetchReviews();\r\n    }, [movieId, setState]); \r\n\r\n    const {items, loading, error} = state;\r\n\r\n    const elements = items.map((item) => {\r\n        const {id, author, content} = item;\r\n        return (<li className={styles.item} key={id}>\r\n                    <Card>\r\n                        <p className={styles.name}>Author: {author}</p>\r\n                        <p className={styles.content}>{content}</p>  \r\n                    </Card>\r\n                </li>)\r\n        }\r\n    );\r\n\r\n    return (\r\n        <Container>\r\n            {loading && <Loading />}\r\n            {error && <Error>Some error occured</Error>}\r\n            {items.length > 0 && <ul className={styles.list}>{elements}</ul>}\r\n            {!loading && items.length === 0 && <Error>We don't have any reviews for this movie.</Error>}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default MovieReviewsPage;","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://api.themoviedb.org/3',\r\n  params: {\r\n    api_key: 'fe6ebdaf9b26884ef65376bf9a48ed3e',\r\n  },\r\n});\r\n\r\nexport const getTrendingMovies = async (period = 'day', page = 1) => {\r\n  const { data } = await instance.get(`/trending/movie/${period}`, {\r\n    params: {\r\n      page,\r\n    },\r\n  });\r\n  console.log(data.results);\r\n  return data.results;\r\n};\r\n\r\nexport const getMovieById = async movie_id => {\r\n  const { data } = await instance.get(`/movie/${movie_id}`, {});\r\n  return data;\r\n};\r\n\r\nexport const getReviews = async movie_id => {\r\n  const { data } = await instance.get(`/movie/${movie_id}/reviews`, {});\r\n  return data.results;\r\n};\r\n\r\nexport const getCast = async movie_id => {\r\n  const { data } = await instance.get(`/movie/${movie_id}/credits`, {});\r\n  return data.cast;\r\n};\r\n\r\nexport const searchMovies = async (query, page = 1) => {\r\n  const { data } = await instance.get(`/search/movie`, {\r\n    params: {\r\n      query,\r\n      page,\r\n    },\r\n  });\r\n\r\n  return data;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"error_wrapper__2MlH2\",\"message\":\"error_message__MqNnC\"};","import PropTypes from 'prop-types';\r\n\r\nimport styles from './error.module.scss';\r\n\r\nconst Error = ({children}) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <p className={styles.message}>{children}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;\r\n\r\nError.propTypes = {\r\n    children: PropTypes.string.isRequired,\r\n}"],"names":["children","className","styles","useState","items","loading","error","state","setState","movieId","useParams","useEffect","fetchReviews","prevState","getReviews","data","elements","map","item","id","author","content","Container","Loading","Error","length","instance","axios","baseURL","params","api_key","getTrendingMovies","period","page","get","console","log","results","getMovieById","movie_id","getCast","cast","searchMovies","query"],"sourceRoot":""}
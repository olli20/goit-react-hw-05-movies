/*! For license information please see 166.0f551b26.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[166],{3166:function(e,t,r){r.r(t),r.d(t,{default:function(){return ee}});var n=r(8683),i=r(5861),a=r(9439),s=r(7757),o=r.n(s),c=r(2791),u=r(1087),l=r(7689);function d(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function h(e){return"#"+e.map(d).join("")}function f(e){return e?(t=e,Array.isArray(t[0])?e:[e]):[];var t}function v(e,t,r){for(var n=0;n<r.length;n++)if(g(e,t,r[n]))return!0;return!1}function g(e,t,r){switch(r.length){case 3:if(function(e,t,r){if(255!==e[t+3])return!0;if(e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2])return!0;return!1}(e,t,r))return!0;break;case 4:if(function(e,t,r){if(e[t+3]&&r[3])return e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2]&&e[t+3]===r[3];return e[t+3]===r[3]}(e,t,r))return!0;break;case 5:if(function(e,t,r){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],c=e[t+3],u=m(c,s,o);if(!s)return u;if(!c&&u)return!0;if(m(e[t],n,o)&&m(e[t+1],i,o)&&m(e[t+2],a,o)&&u)return!0;return!1}(e,t,r))return!0;break;default:return!1}}function m(e,t,r){return e>=t-r&&e<=t+r}function p(e,t,r){for(var n={},i=r.ignoredColor,a=r.step,s=[0,0,0,0,0],o=0;o<t;o+=a){var c=e[o],u=e[o+1],l=e[o+2],d=e[o+3];if(!i||!v(e,o,i)){var h=Math.round(c/24)+","+Math.round(u/24)+","+Math.round(l/24);n[h]?n[h]=[n[h][0]+c*d,n[h][1]+u*d,n[h][2]+l*d,n[h][3]+d,n[h][4]+1]:n[h]=[c*d,u*d,l*d,d,1],s[4]<n[h][4]&&(s=n[h])}}var f=s[0],g=s[1],m=s[2],p=s[3],_=s[4];return p?[Math.round(f/p),Math.round(g/p),Math.round(m/p),Math.round(p/_)]:r.defaultColor}function _(e,t,r){for(var n=0,i=0,a=0,s=0,o=0,c=r.ignoredColor,u=r.step,l=0;l<t;l+=u){var d=e[l+3],h=e[l]*d,f=e[l+1]*d,g=e[l+2]*d;c&&v(e,l,c)||(n+=h,i+=f,a+=g,s+=d,o++)}return s?[Math.round(n/s),Math.round(i/s),Math.round(a/s),Math.round(s/o)]:r.defaultColor}function x(e,t,r){for(var n=0,i=0,a=0,s=0,o=0,c=r.ignoredColor,u=r.step,l=0;l<t;l+=u){var d=e[l],h=e[l+1],f=e[l+2],g=e[l+3];c&&v(e,l,c)||(n+=d*d*g,i+=h*h*g,a+=f*f*g,s+=g,o++)}return s?[Math.round(Math.sqrt(n/s)),Math.round(Math.sqrt(i/s)),Math.round(Math.sqrt(a/s)),Math.round(s/o)]:r.defaultColor}function w(e){return j(e,"defaultColor",[0,0,0,0])}function j(e,t,r){return void 0===e[t]?r:e[t]}function Z(e){if(y(e)){var t=e.naturalWidth,r=e.naturalHeight;return e.naturalWidth||-1===e.src.search(/\.svg(\?|$)/i)||(t=r=100),{width:t,height:r}}return function(e){return"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement}(e)?{width:e.videoWidth,height:e.videoHeight}:{width:e.width,height:e.height}}function b(e){return function(e){return"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement}(e)?"canvas":function(e){return C&&e instanceof OffscreenCanvas}(e)?"offscreencanvas":function(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap}(e)?"imagebitmap":e.src}function y(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement}var C="undefined"!==typeof OffscreenCanvas;var k="undefined"===typeof window;function M(e){return Error("FastAverageColor: "+e)}function N(e,t){t||console.error(e)}var E=function(){function e(){this.canvas=null,this.ctx=null}return e.prototype.getColorAsync=function(e,t){if(!e)return Promise.reject(M("call .getColorAsync() without resource."));if("string"===typeof e){if("undefined"===typeof Image)return Promise.reject(M("resource as string is not supported in this environment"));var r=new Image;return r.crossOrigin=t&&t.crossOrigin||"",r.src=e,this.bindImageEvents(r,t)}if(y(e)&&!e.complete)return this.bindImageEvents(e,t);var n=this.getColor(e,t);return n.error?Promise.reject(n.error):Promise.resolve(n)},e.prototype.getColor=function(e,t){var r=w(t=t||{});if(!e)return N(a=M("call .getColor(null) without resource"),t.silent),this.prepareResult(r,a);var n=function(e,t){var r,n=j(t,"left",0),i=j(t,"top",0),a=j(t,"width",e.width),s=j(t,"height",e.height),o=a,c=s;return"precision"===t.mode||(a>s?(r=a/s,o=100,c=Math.round(o/r)):(r=s/a,c=100,o=Math.round(c/r)),(o>a||c>s||o<10||c<10)&&(o=a,c=s)),{srcLeft:n,srcTop:i,srcWidth:a,srcHeight:s,destWidth:o,destHeight:c}}(Z(e),t);if(!n.srcWidth||!n.srcHeight||!n.destWidth||!n.destHeight)return N(a=M('incorrect sizes for resource "'.concat(b(e),'"')),t.silent),this.prepareResult(r,a);if(!this.canvas&&(this.canvas=k?C?new OffscreenCanvas(1,1):null:document.createElement("canvas"),!this.canvas))return N(a=M("OffscreenCanvas is not supported in this browser"),t.silent),this.prepareResult(r,a);if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx)return N(a=M("Canvas Context 2D is not supported in this browser"),t.silent),this.prepareResult(r);this.ctx.imageSmoothingEnabled=!1}this.canvas.width=n.destWidth,this.canvas.height=n.destHeight;try{this.ctx.clearRect(0,0,n.destWidth,n.destHeight),this.ctx.drawImage(e,n.srcLeft,n.srcTop,n.srcWidth,n.srcHeight,0,0,n.destWidth,n.destHeight);var i=this.ctx.getImageData(0,0,n.destWidth,n.destHeight).data;return this.prepareResult(this.getColorFromArray4(i,t))}catch(s){var a;return N(a=M("security error (CORS) for resource ".concat(b(e),".\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image")),t.silent),!t.silent&&console.error(s),this.prepareResult(r,a)}},e.prototype.getColorFromArray4=function(e,t){t=t||{};var r=e.length,n=w(t);if(r<4)return n;var i,a=r-r%4,s=4*(t.step||1);switch(t.algorithm||"sqrt"){case"simple":i=_;break;case"sqrt":i=x;break;case"dominant":i=p;break;default:throw M("".concat(t.algorithm," is unknown algorithm"))}return i(e,a,{defaultColor:n,ignoredColor:f(t.ignoredColor),step:s})},e.prototype.prepareResult=function(e,t){var r,n=e.slice(0,3),i=[e[0],e[1],e[2],e[3]/255],a=(299*(r=e)[0]+587*r[1]+114*r[2])/1e3<128;return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+n.join(",")+")",rgba:"rgba("+i.join(",")+")",hex:h(n),hexa:h(e),isDark:a,isLight:!a,error:t}},e.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},e.prototype.bindImageEvents=function(e,t){var r=this;return new Promise((function(n,i){var a=function(){c();var a=r.getColor(e,t);a.error?i(a.error):n(a)},s=function(){c(),i(M('Error loading image "'.concat(e.src,'".')))},o=function(){c(),i(M('Image "'.concat(e.src,'" loading aborted')))},c=function(){e.removeEventListener("load",a),e.removeEventListener("error",s),e.removeEventListener("abort",o)};e.addEventListener("load",a),e.addEventListener("error",s),e.addEventListener("abort",o)}))},e}(),L=r(5697),H=r(2017),I="movie-details_fullweightContainer__VvGIM",W="movie-details_movieCard__qTPsk",R="movie-details_darkThema__hctvf",O="movie-details_poster__ksvE2",T="movie-details_image__uzZ+W",P="movie-details_meta__lk0fH",S="movie-details_title__PKXVj",A="movie-details_year__MQDg6",D="movie-details_tagline__x8G5s",q="movie-details_subtitle__fZj5v",B="movie-details_overview__7fadI",V="movie-details_genreList__P4Lwv",z="movie-details_genre__yKxQj",F="movie-details_ratingWrapper__VMcpw",G=r(184),K=function(e){var t=e.item,r=(0,c.useState)("rgba(120, 145, 165, 1)"),n=(0,a.Z)(r,2),i=n[0],s=n[1],o=(0,c.useState)(!1),u=(0,a.Z)(o,2),l=u[0],d=u[1];(0,c.useEffect)((function(){(new E).getColorAsync("https://image.tmdb.org/t/p/w342".concat(t.poster_path),{algorithm:"simple"}).then((function(e){s(e.rgba),d(!e.isDark)})).catch((function(e){console.log(e)}))}),[t,s]);var h=t.title,f=t.poster_path,v=t.backdrop_path,g=t.tagline,m=t.vote_average,p=t.overview,_=t.genres,x=void 0===_?[]:_,w=t.release_date,j=x.map((function(e){return(0,G.jsx)("li",{className:z,children:e.name},e.id)})),Z=w.slice(0,4),b=i.slice(0,i.length-2)+" 0.9)",y=i.slice(0,i.length-2)+" 0.7)",C=l?"".concat(W," ").concat(R):W,k={backgroundColor:i,backgroundImage:"linear-gradient(to right,\n             ".concat(b,",\n             ").concat(y,"),\n            url(https://image.tmdb.org/t/p/w1280").concat(v,")")};return(0,G.jsx)("div",{className:I,style:k,children:(0,G.jsx)(L.Z,{children:(0,G.jsxs)("div",{className:C,children:[(0,G.jsx)("div",{className:O,children:(0,G.jsx)("img",{className:T,src:"https://image.tmdb.org/t/p/w500".concat(f),alt:h})}),(0,G.jsxs)("div",{className:P,children:[(0,G.jsxs)("h1",{className:S,children:[h," ",(0,G.jsxs)("span",{className:A,children:["(",Z,")"]})]}),(0,G.jsx)("div",{className:F,children:(0,G.jsx)(H.Z,{vote:m})}),(null===g||void 0===g?void 0:g.length)>0&&(0,G.jsx)("p",{className:D,children:g}),(0,G.jsx)("h3",{className:q,children:"Overview"}),(0,G.jsx)("p",{className:B,children:p}),(0,G.jsx)("h3",{className:q,children:"Genres"}),x&&(0,G.jsx)("ul",{className:V,children:j})]})]})})})},Q=r(6744),U=r(748),Y="movie-details-page_list__Cvdm2",J="movie-details-page_link__EoIAB",X="movie-details-page_active__7HkNa",$=r(232),ee=function(){var e,t=(0,c.useState)({item:{},loading:!1,error:null}),r=(0,a.Z)(t,2),s=r[0],d=r[1],h=(0,l.UO)().movieId,f=(0,l.s0)(),v=(null===(e=(0,l.TH)().state)||void 0===e?void 0:e.from)||"/goit-react-hw-05-movies";(0,c.useEffect)((function(){var e=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!0,error:null})})),e.prev=1,e.next=4,(0,$.Pg)(h);case 4:t=e.sent,d((function(e){return(0,n.Z)((0,n.Z)({},e),{},{item:t})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d((function(t){return(0,n.Z)((0,n.Z)({},t),{},{error:e.t0})}));case 11:return e.prev=11,d((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!1})})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[h,d]);var g=function(e){return e.isActive?"".concat(J," ").concat(X):J},m=s.item,p=s.loading,_=s.error,x=m.hasOwnProperty("title");return(0,G.jsxs)("div",{children:[(0,G.jsx)(L.Z,{children:(0,G.jsx)("button",{onClick:function(){return f(v)},children:"Go back"})}),p&&(0,G.jsx)(Q.Z,{}),_&&(0,G.jsx)(U.Z,{children:"Some error occured"}),x&&(0,G.jsx)(K,{item:s.item}),x&&(0,G.jsx)(L.Z,{children:(0,G.jsxs)("ul",{className:Y,children:[(0,G.jsx)("li",{children:(0,G.jsx)(u.OL,{className:g,state:{from:v},to:"/goit-react-hw-05-movies/movies/".concat(h,"/cast"),children:"Cast"})}),(0,G.jsx)("li",{children:(0,G.jsx)(u.OL,{className:g,state:{from:v},to:"/goit-react-hw-05-movies/movies/".concat(h,"/reviews"),children:"Reviews"})})]})}),(0,G.jsx)(l.j3,{})]})}},232:function(e,t,r){r.d(t,{Df:function(){return o},IQ:function(){return l},Jh:function(){return u},Pg:function(){return c},z1:function(){return d}});var n=r(5861),i=r(7757),a=r.n(i),s=r(1912).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"280dfc47f55a5a95f0363880d2199c9a"}}),o=function(){var e=(0,n.Z)(a().mark((function e(){var t,r,n,i,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"day",r=o.length>1&&void 0!==o[1]?o[1]:1,e.next=4,s.get("/trending/movie/".concat(t),{params:{page:r}});case 4:return n=e.sent,i=n.data,e.abrupt("return",i.results);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/movie/".concat(t),{});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/movie/".concat(t,"/reviews"),{});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/movie/".concat(t,"/credits"),{});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.cast);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n,i,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:1,e.next=3,s.get("/search/movie",{params:{query:t,page:r}});case 3:return n=e.sent,i=n.data,e.abrupt("return",i.results);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},748:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(5697),i="error_wrapper__-2+js",a="error_message__rY-IE",s=r(184),o=function(e){var t=e.children;return(0,s.jsx)(n.Z,{children:(0,s.jsx)("div",{className:i,children:(0,s.jsx)("p",{className:a,children:t})})})}},6744:function(e,t,r){r.d(t,{Z:function(){return n.Z}});var n=r(3032)},2017:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(4128),i=r(7698),a=r(184),s=function(e){var t=e.vote,r=(0,i.Kw)(t),s=r>0,o=9*Math.PI*2,c=o-o*r/100,u=(0,i.Zm)(r);return(0,a.jsxs)("div",{className:n.Z.rating,children:[(0,a.jsx)("div",{className:n.Z.diagram,children:(0,a.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 21 21",children:[(0,a.jsx)("circle",{cx:"10",cy:"10",r:9,strokeWidth:"1px",className:n.Z.circleBg}),(0,a.jsx)("circle",{cx:"10",cy:"10",r:9,strokeWidth:"1px",className:u,style:{strokeDasharray:o,strokeDashoffset:c},transform:"rotate(-90 10 10)"})]})}),(0,a.jsx)("span",{className:n.Z.ratingNumber,children:s?r:"NR"}),r>0&&(0,a.jsx)("span",{className:n.Z.percentSign,children:"%"})]})}},7698:function(e,t,r){r.d(t,{Kw:function(){return a},Zm:function(){return o},p6:function(){return s}});var n=r(8977),i=r(4128),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.round(10*e)},s=function(e){if(null!==e&&""!==e&&void 0!==e){var t=e+"T12:00:00";return(0,n.Z)(Date.parse(t),"MMM dd, yyyy")}},o=function(e){var t=i.Z.progress;return e>=70?t="".concat(i.Z.progress," ").concat(i.Z.high):e<70&&e>=50&&(t="".concat(i.Z.progress," ").concat(i.Z.medium)),t}},4128:function(e,t){t.Z={rating:"rating_rating__hlgi+",diagram:"rating_diagram__x-RaL",circleBg:"rating_circleBg__qW11Z",progress:"rating_progress__4Z1eL",medium:"rating_medium__3UupM",high:"rating_high__wws4H",ratingNumber:"rating_ratingNumber__cBuLE",percentSign:"rating_percentSign__oLwcY"}}}]);
//# sourceMappingURL=166.0f551b26.chunk.js.map